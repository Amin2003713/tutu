@using MyShop.Ui.Commen.Headers
@using MyShop.Ui.Commen.Footers
@inherits LayoutComponentBase



    <MudRTLProvider RightToLeft="true">
        <MudThemeProvider/>

        @* Provides popover functionality throughout the page *@
        <MudPopoverProvider/>

        @* Needed for handling dialog components across the app *@
        <MudDialogProvider/>

        @* Provides snackbar notifications across the app *@
        <MudSnackbarProvider/>
        <MudLayout class="@PageWrapper">

            <AuthorizeView>
                <Authorized>
                    <PageHeader/>
                    <HeaderResponsive/>
                </Authorized>
            </AuthorizeView>

            <MudMainContent class="page-content">
                <MudContainer>
                    @Body
                </MudContainer>
            </MudMainContent>


            <AuthorizeView>
                <Authorized>
                    <MainFooter/>
                </Authorized>
                <NotAuthorized>
                    <MiniFooter/>
                </NotAuthorized>
            </AuthorizeView>
        </MudLayout>

    </MudRTLProvider>


@code
{
        private string? PageWrapper { get; set; }


    protected override async Task OnInitializedAsync()
    {
        var state = await _stateProvider.GetAuthenticationStateAsync();

        if (!state.User.Identity!.IsAuthenticated)
        {
            PageWrapper = "page-wrapper auth-page-wrapper";
        }
    }
}