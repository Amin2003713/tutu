

@page "/Auth/Logout"
@using Application.User.Auth.CommandAndQueries
@using Application.User.Auth.Interfaces
@using Domain.Common.Exceptions
@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.Server.ProtectedBrowserStorage
@using Microsoft.AspNetCore.Http
@using MyShopUi.Components.Pages.Controles
@inject  IUserAuthRepository Auth
@inject  NavigationManager NavigationManager
@inject  ProtectedLocalStorage Local

@code
{
    protected override async Task OnInitializedAsync()
    {
        var logout =await Auth.Logout();

        if (logout is not null && logout.IsSuccess )
            NavigationManager.NavigateTo("/");
    }
}
